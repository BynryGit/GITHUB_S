<!DOCTYPE html>
<!--
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 3.3.6
Version: 4.5.3
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<!--[if IE 8]>
<html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->
{% load staticfiles %}
<head>
        <meta charset="utf-8" />
        <title>City Hoopla | Edit City Star </title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="width=device-width, initial-scale=1" name="viewport" />
        <meta content="" name="description" />
        <meta content="" name="author" />
        <!-- BEGIN GLOBAL MANDATORY STYLES -->
       <!-- BEGIN GLOBAL MANDATORY STYLES -->

            <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700&subset=all" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/global/plugins/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/global/plugins/simple-line-icons/simple-line-icons.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/global/plugins/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/global/plugins/uniform/css/uniform.default.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- END GLOBAL MANDATORY STYLES -->
        <!-- BEGIN PAGE LEVEL PLUGINS -->
         <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.css" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/global/plugins/select2/css/select2.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/global/plugins/select2/css/select2-bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- <link href="{% static 'assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.min.css' %}" rel="stylesheet" type="text/css" /> -->
        <link href="{% static 'assets/global/plugins/bootstrap-wysihtml5/bootstrap-wysihtml5.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/global/plugins/bootstrap-markdown/css/bootstrap-markdown.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- END PAGE LEVEL PLUGINS -->
        <!-- BEGIN THEME GLOBAL STYLES -->
        <link href="{% static 'assets/global/css/components.min.css' %}" rel="stylesheet" id="style_components" type="text/css" />
        <link href="{% static 'assets/global/css/plugins.min.css' %}" rel="stylesheet" type="text/css" />
        <!-- END THEME GLOBAL STYLES -->
        <!-- BEGIN THEME LAYOUT STYLES -->
        <link href="{% static 'assets/layouts/layout2/css/layout.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/layouts/layout2/css/themes/blue.min.css' %}" rel="stylesheet" type="text/css" id="style_color" />
        <link href="{% static 'assets/layouts/layout2/css/custom.min.css' %}" rel="stylesheet" type="text/css" />

         <link href="{% static 'vendor/bootstrap-fileinput/jasny-bootstrap.min.css' %}" rel="stylesheet" media="screen">


           <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.504/styles/kendo.common-material.min.css" />
    <link rel="stylesheet" href="http://kendo.cdn.telerik.com/2016.2.504/styles/kendo.material.min.css" />

         <link href="{% static 'assets/pages/css/dropzone.css' %}" rel="stylesheet" type="text/css" />
         <link href="{% static 'assets/custom/css/map.css' %}" rel="stylesheet" type="text/css" />
          <link href="{% static 'assets/bootstrap-tagsinput.css' %}" rel="stylesheet" type="text/css" />
        <!-- END THEME LAYOUT STYLES -->
</head>
    <!-- END HEAD -->
    <style type="text/css">

.has-success .control-label{
	color : #333;
}

.has-success .form-control {
	border: 1px solid #C2CAD8;
}

		div.dataTables_wrapper div.dataTables_info {
    padding-top: 8px;
    white-space: nowrap;
    display: none;
}
div.dataTables_wrapper div.dataTables_length label {
    font-weight: normal;
    text-align: left;
    white-space: nowrap;
    display: none;
}

div.dataTables_filter label {
    font-weight: normal;
    white-space: nowrap;
    text-align: left;
    display: none;
}

.border_s{

    border: 1px solid #ddd;
    padding: 10px;
}
.fa-lg {
    font-size: 2.333333em;
    line-height: .75em;
    vertical-align: -15%;
}

div.checker span {
    display: -moz-inline-box;
    display: inline-block;
    zoom: 1;
    text-align: center;
    background-position: 0 -260px;

}

#processing{
    height: 100vh;
    position: fixed;
    width: 100%;
    margin: 0px auto;
    z-index: 9999;
    background-color: #FFF;
    background-image: none;
    background-attachment: scroll;
    background-position: 0% 0%;
    background-clip: border-box;
    background-origin: padding-box;
    background-repeat: repeat;
    background-size: inherit;
    opacity: 0.5;
}

#loading{
    width: 36%;
    height: 22px;
    position: absolute;
    top: 26%;
    left: 32%;
    margin: -28px 0px 0px -25px;
    text-align: center;
    font-size: 13px;
    font-weight: 500;
    color: #000;
}

.page-header.navbar .page-logo .logo-default {
    margin: 2px 0 0;
    width: 105px;
    background: #f3f2f2;
}

.page-header.navbar .page-logo {
    background: #f3f2f2;
}

.page-header.navbar .page-logo {
    float: left;
    display: block;
    width: 195px;
    height: 68px;
    padding-left: 0px;
    padding-right: 20px;
}


@media (max-width: 767px){
.page-header.navbar {
     background-color: #0d67e6;
  background-image: url(images/linear_bg_1.png);
  background-repeat: repeat-y;

  /* Safari 4-5, Chrome 1-9 */
  background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a));

  /* Safari 5.1, Chrome 10+ */
  background: -webkit-linear-gradient(left, #0d67e6, #11ca9a);

  /* Firefox 3.6+ */
  background: -moz-linear-gradient(left, #0d67e6, #11ca9a);

  /* IE 10 */
  background: -ms-linear-gradient(left, #0d67e6, #11ca9a);

  /* Opera 11.10+ */
  background: -o-linear-gradient(left, #0d67e6, #11ca9a);
}
}

.form-height{
height: 65px;
}

.user-image img {
    max-width: 100%;
}

.fileinput .thumbnail>img {
    height: 178px !important;
}

.fileinput-preview.thumbnail {
    max-width: 278px;
}

.btn-azure:hover {
    background-color: #0095C8;
    border-color: #0095C8;
    color: #ffffff;
}

.btn-file {
    overflow: hidden;
    position: relative;
    vertical-align: middle;
}

.user-image .user-image-buttons {
    position: static;

    <!--top: 20%;-->
    <!--left: 37%;-->
}

.btn-file input[type=file] {
    position: absolute;
    top: 0;
    right: 0;
    min-width: 100%;
    min-height: 100%;
    font-size: 100px;
    text-align: right;
    filter: alpha(opacity=0);
    opacity: 0;
    outline: none;
    background: white;
    cursor: inherit;
    display: block;
}

.btn-red:hover {
    background-color: #da4f4a !important;
    border-color: #da4f4a;
    color: #ffffff;
    display: none;
}

.btn-red{
    display: none;
}

.btn-sm, .btn-group-sm>.btn {
    padding: 5px 10px;
    font-size: 12px;
    line-height: 1.5;
    border-radius: 3px;
}

.btn {
    transition: all 0.3s ease 0s !important;
    background-image: none !important;
    box-shadow: none !important;
    outline: none !important;
    position: relative;
}

.fileinput .btn {
    vertical-align: middle;
}

.bootstrap-tagsinput {
    line-height: 35px;
    width: 980px;
}

/*.error{
    font-family: 'Roboto Bold', 'Roboto';
    font-weight: 400;
    font-style: normal;
    font-size: 12px;
}*/

.form-wizard .steps > li.active > a.step .desc {
    color: #2F353B;
    font-weight: 700;
    font-family: 'Roboto Bold', 'Roboto';
}

.portlet.light {
    <!--padding: 0px 0px 4px;-->
    <!--background-color: #eef1f5;-->
}

.form-wizard .steps, .form-wizard .steps > li > a.step {
    <!--background-color: #eef1f5;-->
    background-image: none;
    border: 0;
    box-shadow: none;
    filter: none;
}

.dropzone .dz-preview, .dropzone-previews .dz-preview{
    margin: 3px !important;
}

hr {
    border: 0;
    border-top: 1px solid #6B6B6B;
    border-bottom: 0;
}


#tab2 {
    padding-left: 25px;
    padding-right: 25px;
}

.map-wrapper {
    float: left;
    margin: 0px 0px 0 0px;
}

#map {
    border: 1px solid #DDD;
    width: 21em;
    overflow: hidden;
    height: 20em;
    margin: 10px 0 10px 0;
    -webkit-box-shadow: #AAA 0px 0px 15px;
}

#my-awesome-dropzone-3{
    border: 3px dashed black !important;
    min-height: 224px !important;
    background: #ffffff;
}

#my-active-dropzone{
    border: 3px dashed black !important;
    min-height: 224px !important;
    background: #ffffff;
}

.dropzone .dz-preview .dz-details img, .dropzone-previews .dz-preview .dz-details img {
    position: absolute;
    top: 0px;
    left: 0;
    width: 100% !important;
    height: 100% !important;
}

.dropzone .dz-preview, .dropzone-previews .dz-preview {
    background: rgba(255,255,255,0.8);
    position: relative;
    display: inline-block;
    margin: 4px;
    vertical-align: top;
    border: 1px solid #acacac;
    padding: 6px 6px 6px 6px;
}

.sel2{
    width: 100%;
}

.tab-active{
    background: rgb(13, 103, 230) none repeat scroll 0% 0% !important;
    color: rgb(16, 245, 182) !important;
}

.sel2{
    width: 100%;
}

.div-border-top{
    border: 1px solid #cccccc;
    border-bottom: none;
}

.div-border-bottom{
    border: 1px solid #cccccc;
    border-top: none;
}

.div-border-bottom1{
    border: 1px solid #cccccc;
    border-top: none;
    border-bottom: none;
}


.div-border-left-right{
    border: 1px solid #cccccc;
    border-top: none;
    border-bottom: none;
}

.div-border{
    border: 1px solid #cccccc;
}

.div-color{
    background-color: rgb(243, 242, 242);
    //border: 1px solid rgb(204, 204, 204) !important;
    /*border-radius: 10px !important;
    margin-right: 0.5%;
    margin-left: 0.5%;
    margin-bottom: 1%;*/
}


@media (min-width:992px) {
    .col-lg-3 {
        width:24% !important;
    }
    /*.col-xs-6 {
        width: 46% !important;
    }*/
}


.form-control {
    border: 1px solid #c0c0c0;
}

.brad-crum-1{
    font-size:16px;
    color: #3eb199;
}

.brad-crum-2{
    font-size:16px;
    color: #00448b;
}

.brad-crum-3{
    font-size:16px;
    color: #00448b;
    font-weight:700;
}

.page-content-wrapper {
    float: left;
    width: 100%;


    background-size: 16% auto !important;
    -webkit-background-size: 20% auto !important;
    -ms-background-size: 16% auto !important;
    -o-background-size: 16% auto !important;


    background-color: #0d67e6;
    background-image: url(images/linear_bg_1.png);
    background-repeat: repeat-y;
    font-weight:500;

    /* Safari 4-5, Chrome 1-9 */
    background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a));

    /* Safari 5.1, Chrome 10+ */
    background: -webkit-linear-gradient(left, #0d67e6, #11ca9a);

    /* Firefox 3.6+ */
    background: -moz-linear-gradient(left, #0d67e6, #11ca9a);

    /* IE 10 */
    background: -ms-linear-gradient(left, #0d67e6, #11ca9a);

    /* Opera 11.10+ */
    background: -o-linear-gradient(left, #0d67e6, #11ca9a);
}

.form-wizard .steps > li > a.step .number {
    background-color: #e2e1e1 !important;
    color: #fff;
    font-weight: 700;
}

.form-wizard .steps > li.active > a.step .number {
    background-color: #00448b !important;
    color: #fff;
    font-weight: 700;
}

.form-wizard .steps > li > a.step .done {
    color: #fff;
    font-weight: 700;
    background-color: #0d67e6;
    background-image: url(images/linear_bg_1.png);
    background-repeat: repeat-y;

    /* Safari 4-5, Chrome 1-9 */
    background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a)) !important;
    background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a)) !important;

    /* Safari 5.1, Chrome 10+ */
    background: -webkit-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -webkit-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* Firefox 3.6+ */
    background: -moz-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -moz-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* IE 10 */
    background: -ms-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -ms-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* Opera 11.10+ */
    background: -o-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -o-linear-gradient(left, #0d67e6, #11ca9a) !important;
}


.grey_color{
    border: 1px solid rgb(72, 72, 72);
    color: rgb(255, 255, 255);
    background: rgb(72, 72, 72) none repeat scroll 0% 0%;
    border-radius: 20px !important;
}

.done_btn{
    color: rgb(255, 255, 255);
    border-radius: 20px !important;
    background-color: #0d67e6;
    background-image: url(images/linear_bg_1.png);
    background-repeat: repeat-y;

    /* Safari 4-5, Chrome 1-9 */
    background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a)) !important;
    background: -webkit-gradient(linear, left top, right top, from(#0d67e6), to(#11ca9a)) !important;

    /* Safari 5.1, Chrome 10+ */
    background: -webkit-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -webkit-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* Firefox 3.6+ */
    background: -moz-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -moz-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* IE 10 */
    background: -ms-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -ms-linear-gradient(left, #0d67e6, #11ca9a) !important;

    /* Opera 11.10+ */
    background: -o-linear-gradient(left, #0d67e6, #11ca9a) !important;
    border: -o-linear-gradient(left, #0d67e6, #11ca9a) !important;

}

.page-header.navbar .menu-toggler {
    background-image: url(/static/assets/layouts/layout2/img/sidebar_toggler_icon_blue.png);
}

.page-header-inner{
    background: #f3f2f2;
}

.font-14{
    font-size:14px;
}

.font-12{
    font-size:12px;
}

.font-16{
    font-size:16px;
}

.font-15{
    font-size:15px;
}

.font-18{
    font-size:18px;
}

.font-green{
    color: #3eb199 !important;
}

.font-blue{
    color: #00448b !important;
}

.font-bold{
    font-weight:700;
}

.font-regular{
    font-weight:500;
}

.fileinput .thumbnail>img {
    height: 178px !important;
}

.fileinput-preview.thumbnail {
    max-width: 278px;
}

.fileinput .btn {
    vertical-align: middle;
}

    </style>

<body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid">
<div id="processing" style="display:none;">
    <div id="loading">
        <img src="{% static 'assets/loading-bars.gif' %}" style="height : 100px;">

    </div>
</div>

<div class="page-header navbar navbar-fixed-top">
    <div class="page-header-inner ">
        <div class="page-logo">
            <a href="index.html">
                <img src="{% static 'assets/layouts/layout2/img/City_Hoopla_Logo.png' %}" alt="logo"
                     class="logo-default"/> </a>
            <div class="menu-toggler sidebar-toggler">
            </div>
        </div>
        <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse"
           data-target=".navbar-collapse"> </a>
        <div class="page-top">
            <div class="top-menu" style="display:inline-block;">
                <ul class="nav navbar-nav pull-right">
                    
                    <li class="dropdown dropdown-user">
                        <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"
                           data-close-others="true">
                           <!--  <img style="    width: 40px;" alt="" class="img-circle"
                                 src="{{request.session.user_image}}"> -->
                            <span class="username username-hide-on-mobile"> {{ username }} </span>
                            <i class="fa fa-angle-down"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-default">
                            
                            <li>
                                <a href="/log-out/">
                                   <i class="icon-key" aria-hidden="true"></i> Log Out </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div class="clearfix"></div>
<div class="page-container">
<div class="page-sidebar-wrapper">
                <div class="page-sidebar navbar-collapse collapse">
                    {% include 'Admin/side-panel.html' %}
                </div>
            </div>

    <div class="page-content-wrapper">
        <div class="page-content">
            <div class="row">
                <div class="col-lg-12">
                    <div class="portlet light  ">
                        <div class="portlet-body form">
                            <div class="row">
                                <div class="col-lg-12">
                                	  <div class="col-md-6" style="margin-top: 3px;">
								                	<br>
													<a href="/city-star/starhome/?city_id={{city}}" class="brad-crum-1">City Star</a> <i class="fa fa-angle-right"></i> 
													 <a href="/city-star/starhome/?city_id={{city}}" class="brad-crum-2">{{city_name}}</a> <i class="fa fa-angle-right"></i> 
													 <span style="font-size:16px;">Edit City Star</span> </h4>			
												</div> 
                                    <input type="hidden" id="c_id" value="{{city}}">
                                    <div class="col-md-offset-4 col-md-2" style="margin-top: -7px;">
													<br>
														<!-- <a type="button" href="/city-star/viewstarprofile/?star_id={{id}}" class="btn btn-outline grey_color"> Cancel </a> -->
														<a type="button" href="/city-star/starhome/?city_id={{city}}" class="btn btn-outline grey_color"> Cancel </a>
					                              <button type="button" id="save_advert" class="save-advert btn btn-outline done_btn">
					                                  Save
					                              </button>
													</div> 
                                    <!-- <div class="row" style="margin-top: -7px;">
					                          <div class="col-lg-12 col-md-12 text-right">
					                              <a type="button" href="/city-star/viewstarprofile/?star_id={{id}}"
					                                 class="btn btn-outline grey_color"> Cancel </a>
					                              <button type="button" id="save_advert" class="save-advert btn btn-outline done_btn">
					                                  Save
					                              </button>
					                          </div>
					                          <input type="hidden" id="id" value="{{id}}"/>
					                      </div> -->
					                      <input type="hidden" id="id1" value="{{id}}"/>
					                      <input type="hidden" id="cid" value="{{city}}"/>
                                     <div class="portlet-body">
                                        <div class="portlet light " id="form_wizard_1">
                                            <div class="portlet-body form">
                                            <form class="form-vertical" enctype="multipart/form-data" method="POST">
                                                    {% csrf_token %}
                                                    <div class="form-wizard">
                                                        <div class="form-body">
               <div class="col-lg-6 col-md-6" style="padding-left: 26px;padding-right: 10px;">
               	{% if default_obj == '0' %}
                   <div class="row">
                       <div class="col-lg-12 col-md-12">
                           <div class="form-group">
                           	<input type="hidden" id="c_id" value="{{city_id}}">
                              <input type="checkbox" onclick="handleClick(this);" name="dstar" class="dstar" id="dstar" value="default"> Make this as default City Star<br>
                           </div>
                       </div>
                   </div>
						{% endif %}
						{% if status == 'default' %}
                   <div class="row">
                       <div class="col-lg-12 col-md-12">
                           <div class="form-group">
                           	<input type="hidden" id="c_id" value="{{city_id}}">
                              <input type="checkbox" onclick="handleClick(this);" checked="" name="dstar" class="dstar" id="dstar" value="default"> Make this as default City Star<br>
                           </div>
                       </div>
                   </div>
						{% endif %}
                   <div class="row div-border-top div-color">
                       <div class="col-md-12">
                       		<div class="col-md-3" style="padding-right: 0px;">
                           
                               <label class="control-label " style="margin-left: -15px;font-size:15px;">
                                   Title 
                               </label>
                               <select style="margin-left: -15px;" name="title" id="title" class="form-control sel2" >
                               	 
                               	 {% if title == 'Mr.' %}
                               	 <option value=""> Select Title</option>
		  			                   	 <option selected value="Mr."> Mr.</option>
			  			                   <option value="Mrs."> Mrs.</option>
			  			                   <option value="Ms."> Ms.</option>
			  			                   <option value="Dr."> Dr.</option>
			  			                   <option value="Mas."> Mas.</option>
			  			                   <option value="Prof."> Prof.</option>
			  			                   <option value="Smt."> Smt.</option>
			  			                   <option value="Miss."> Miss.</option>
		  			                   {% elif title == 'Mrs.' %}
		  			                   <option value=""> Select Title</option>
												 <option  value="Mr."> Mr.</option>		  			                   	 
		  			                   	 <option selected value="Mrs."> Mrs.</option>		  			                   			  			                   				  			                  
			  			                   <option value="Ms."> Ms.</option>
			  			                   <option value="Dr."> Dr.</option>
			  			                   <option value="Mas."> Mas.</option>
			  			                   <option value="Prof."> Prof.</option>
			  			                   <option value="Smt."> Smt.</option>
			  			                   <option value="Miss."> Miss.</option>
		  			                   {% elif title == 'Ms.' %}
		  			                   	<option value=""> Select Title</option>
		  			                   	<option  value="Mr."> Mr.</option>		  			                   	 
		  			                   	 <option  value="Mrs."> Mrs.</option>		  			                   			  			                   				  			                  
			  			                   <option selected value="Ms."> Ms.</option>
			  			                   <option value="Dr."> Dr.</option>
			  			                   <option value="Mas."> Mas.</option>
			  			                   <option value="Prof."> Prof.</option>
			  			                   <option value="Smt."> Smt.</option>
			  			                   <option value="Miss."> Miss.</option>
		  			                   {% elif title == 'Dr.' %}
		  			                   	<option value=""> Select Title</option>
		  			                   	<option  value="Mr."> Mr.</option>		  			                   	 
		  			                   	 <option  value="Mrs."> Mrs.</option>		  			                   			  			                   				  			                  
			  			                   <option  value="Ms."> Ms.</option>
			  			                   <option selected value="Dr."> Dr.</option>
			  			                   <option value="Mas."> Mas.</option>
			  			                   <option value="Prof."> Prof.</option>
			  			                   <option value="Smt."> Smt.</option>
			  			                   <option value="Miss."> Miss.</option>
		  			                   {% elif title == 'Mas.' %}
		  			                  	<option value=""> Select Title</option>
												<option  value="Mr."> Mr.</option>		  			                   	 
		  			                   	 <option  value="Mrs."> Mrs.</option>		  			                   			  			                   				  			                  
			  			                   <option  value="Ms."> Ms.</option>
			  			                   <option  value="Dr."> Dr.</option>
			  			                   <option selected value="Mas."> Mas.</option>
			  			                   <option value="Prof."> Prof.</option>
			  			                   <option value="Smt."> Smt.</option>
			  			                   <option value="Miss."> Miss.</option>
			  			                {% elif title == 'Prof.' %}
		  			                  	<option value=""> Select Title</option>
												<option  value="Mr."> Mr.</option>		  			                   	 
		  			                   	 <option  value="Mrs."> Mrs.</option>		  			                   			  			                   				  			                  
			  			                   <option  value="Ms."> Ms.</option>
			  			                   <option  value="Dr."> Dr.</option>
			  			                   <option  value="Mas."> Mas.</option>
			  			                   <option selected value="Prof."> Prof.</option>
			  			                   <option value="Smt."> Smt.</option>
			  			                   <option value="Miss."> Miss.</option>
											 {% elif title == 'Smt.' %}
		  			                  	<option value=""> Select Title</option>
												<option  value="Mr."> Mr.</option>		  			                   	 
		  			                   	 <option  value="Mrs."> Mrs.</option>		  			                   			  			                   				  			                  
			  			                   <option  value="Ms."> Ms.</option>
			  			                   <option  value="Dr."> Dr.</option>
			  			                   <option  value="Mas."> Mas.</option>
			  			                   <option value="Prof."> Prof.</option>
			  			                   <option selected value="Smt."> Smt.</option>
			  			                   <option value="Miss."> Miss.</option>		
			  			                {% elif title == 'Miss.' %}
		  			                  	<option value=""> Select Title</option>
												<option  value="Mr."> Mr.</option>		  			                   	 
		  			                   	 <option  value="Mrs."> Mrs.</option>		  			                   			  			                   				  			                  
			  			                   <option  value="Ms."> Ms.</option>
			  			                   <option  value="Dr."> Dr.</option>
			  			                   <option  value="Mas."> Mas.</option>
			  			                   <option value="Prof."> Prof.</option>
			  			                   <option  value="Smt."> Smt.</option>
			  			                   <option selected value="Miss."> Miss.</option>		  			                   
		  			                   {% else %}
		  			                   	<option value=""> Select Title</option>
		  			                   	<option  value="Mr."> Mr.</option>		  			                   	 
		  			                   	 <option  value="Mrs."> Mrs.</option>		  			                   			  			                   				  			                  
			  			                   <option  value="Ms."> Ms.</option>
			  			                   <option  value="Dr."> Dr.</option>
			  			                   <option  value="Mas."> Mas.</option>
			  			                   <option value="Prof."> Prof.</option>
			  			                   <option  value="Smt."> Smt.</option>
			  			                   <option value="Miss."> Miss.</option>	
		  			                   {% endif %}
				                   </select>   
                               <label class="error" style="color:red; display:none;"></label>
                           
                           </div>
                           <div class="col-md-9" style="padding-right: 0px;">
                           
                               <label class="control-label" style="font-size:15px;">
                                   Name
                                   <span class="required"> * </span>
                               </label>
                               <input type="text" value="{{name}}" id="name" name="name" class="form-control"/> </input>
                               <label class="error" style="color:red; display:none;"></label>
                           
                           </div>
                       </div>
                       <div class="col-md-12">
                           <div class="form-group" style="margin-top: 12px;">
                           <label class="control-label " style="font-size:15px; ">
                               Summary<span class="required"> * </span> </label>
                               <textarea id="summary"  maxlength="500" onkeyup="myFunction1(this)" class="form-control">{{summary}}</textarea>
                               <label id="short_discription_count" class="control-label  dis_count" style="font-size:15px;; float:right">
                               		<span id="length_cal1">0</span>
	                                 <span>/500 Characters</span>
                               </label>
                               <label class="error" style="color:red; display:none;"></label>
                           </div>
                       </div>
                       <div class="col-lg-12 col-md-12">
                           <div class="form-group" style="margin-top: -7px;">
                               <label class="control-label " style="font-size:15px; ">About City Star
                               </label>
                               <textarea id="abs" maxlength="5000" onkeyup="myFunction(this)" class="form-control">{{description}}</textarea>
                               <label id="short_discription_count" class="control-label  dis_count" style="font-size:15px;; float:right">
                               		<span id="length_cal">0</span>
	                                 <span>/5000 Characters</span>
                               </label>
                               <label class="error" style="color:red; display:none;"></label>
                           </div>
                       </div>
                   </div>
                   <input type="hidden" id="c_sts" value="{{status}}" />
						<div class="row div-border-bottom1 div-color">
							<div class="col-lg-5 col-md-5" style="width: 44.667%;">
                           <label  style="font-size:15px; "> Activation Date<span style="color:red;"> * </span> </label>
                               <input type="text" id="activate_date" value="{{start_date}}" onchange="premium_startdate(this)" name="activate_date" class="inputDisabled form-control date-picker"/></input>                                                              
										 <label class="error12" style="color:red; display:none;"></label>	                           
                       </div>
                       <div class="col-lg-1 col-md-1" style="margin-top: 26px;font-size: 23px;margin-left: -22px;">
                            <i class="fa fa-calendar" aria-hidden="true"></i>                                                              
                       </div>
                       <div class="col-lg-5 col-md-5" style="width: 44.667%;">
                            <label  style="font-size:15px; "> Deactivation Date<span style="color:red;"> * </span> </label>
                               <input type="text" id="deactivate_date" readonly="" value="{{end_date}}" name="deactivate_date" class="form-control date-picker1"/> </input>
                               <label class="error11" style="color:red; display:none;"></label>                           
                       </div>
                       <div class="col-lg-1 col-md-1" style="margin-top: 26px;font-size: 23px;margin-left: -22px;">
                            <i class="fa fa-calendar" aria-hidden="true"></i>                                                              
                       </div>
                       <div class="row">
                       	<div class="col-md-12">
                       		<div class="col-md-12">
                       		<label class="error51" style="color:red; display:none;"></label>	 	                         
                   		</div>
                   		</div>
                   		</div>
                       <!-- <div class="col-lg-6 col-md-6">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Activation Date<span class="required"> * </span> </label>
                               <input type="text" id="activate_date" value="{{start_date}}" name="activate_date" class="form-control date-picker"/><i class="fa fa-calendar" aria-hidden="true"></i> </input>                                                              
										 <label class="error12" style="color:red; display:none;"></label>	                           
                           </div>
                       </div> -->
                       <!-- <div class="col-lg-6 col-md-6">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Deactivation Date<span class="required"> * </span> </label>
                               <input type="text" id="deactivate_date" value="{{end_date}}" name="deactivate_date" class="form-control date-picker"/><i class="fa fa-calendar" aria-hidden="true"></i> </input>
                               <label class="error11" style="color:red; display:none;"></label>
                           </div>
                       </div> -->
                       	                            
                   </div>
                   
                   <div class="row div-border-bottom1 div-color">
                       <div class="col-lg-12 col-md-12">
                           <div class="form-group" style="margin-top: 12px;">
                               <label  style="font-size:15px; "> Profession </label>
                               <input type="text" id="prof" value="{{occupation}}" name="prof" class="form-control"/> </input>
                           </div>
                       </div>                       
                   </div>
                   
                   <div class="row div-border-bottom1 div-color">
                       <div class="col-lg-12 col-md-12">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Education </label>
                               <input type="text" id="education" value="{{education}}" name="education" class="form-control"/> </input>
                           </div>
                       </div>                       
                   </div>
                   
                   <div class="row div-border-bottom1 div-color">
                       <div class="col-lg-6 col-md-6">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Age(in Yrs) </label>
                               <input type="text" value="{{age}}" id="age" onkeypress="return validateFloatKeyPresss(this,event);" maxlength="3" name="age" class="form-control"/> </input>
                           </div>
                       </div>
                       <div class="col-lg-6 col-md-6">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Work Experience(in Yrs) </label>
                               <input type="text" value="{{exp}}" onkeypress="return validateFloatKeyPresss(this,event);" maxlength="2" id="exp" name="exp" class="form-control"/> </input>
                           </div>
                       </div>
                   </div>
                   
                   <div class="row div-border-bottom1 div-color">
                       <div class="col-lg-12 col-md-12">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Awards Won </label>
                               <input type="text" id="awards" value="{{achievements}}"  name="awards" class="form-control"/> </input>
                           </div>
                       </div>                       
                   </div>
                   <div class="row div-border-bottom1 div-color">
                       <div class="col-lg-12 col-md-12">
                           <label><b>Contact Details</b></label>
                       </div>                       
                   </div>
						
						<div class="row div-border-bottom1 div-color">
                       <div class="col-lg-12 col-md-12">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Address Line 1 </label>
                               <input type="text" id="address1" value="{{address1}}" name="address1" class="form-control"/> </input>
                           </div>
                       </div>      
                       <div class="col-lg-12 col-md-12">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Address Line 2 </label>
                               <input type="text" id="address2" value="{{address2}}" name="address2" class="form-control"/> </input>
                           </div>
                       </div>                       
                   </div>
                   <div class="row div-border-bottom div-color">
                       <div class="col-lg-6 col-md-6">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Contact Number </label>
                               <input type="text" id="phone" onkeypress="return validateFloatKeyPresss(this,event);" maxlength="10" name="phone" value="{{phone}}" class="form-control"/> </input>
                               <label class="error15" style="color:red; display:none;"></label>	
                           </div>
                       </div>      
                       <div class="col-lg-6 col-md-6">
                           <div class="form-group">
                               <label  style="font-size:15px; "> Email </label>
                               <input type="email" id="email" name="email" value="{{email}}" class="form-control"/> </input>
                                <label class="error14" style="color:red; display:none;"></label>	 
                           </div>
                       </div>                       
                   </div>
                   <input type="hidden" id="img_data" value="{{image}}" class="form-control"/> </input>
                   <br>
               </div>
                 <div class="col-md-offset-1 col-lg-5 col-md-5">
                    <div class="fileinput fileinput-new" data-provides="fileinput">
                        <div class="form-group">
                            <label class="brad-crum-2 font-15 font-bold" >City Star Image<span class="required"> * </span> </label>
                        </div>
                       
                        <div class="user-image">
                          <div class="user-image-buttons">
                              <span class="btn btn-azure btn-file btn-sm"
                                    style="display:none;float:right; padding: 0px; padding-left: 5px; padding-right: 5px;"><span
                                      class="fileinput-new"><i
                                      class="fa fa-pencil"></i></span><span
                                      class="fileinput-exists"><i
                                      class="fa fa-pencil"></i></span>
                                  <input type="file"
                                         class="form-control"
                                         name="display_image"
                                         accept="image/*"
                                         value="{{image}}"
                                         id="display_image" name="logo">
                                  <input type="hidden" id="image_file" value="{{image_file}}" />
                                  <input type="hidden" id="img" value="{{img}}" />
                                  <input type="hidden" id="likes" value="{{likes}}" />
                                  <input type="hidden" id="views" value="{{views}}" />
                                  <input type="hidden" id="shares" value="{{shares}}" />
                              </span>
                              <a href="#"
                                 class="btn fileinput-exists btn-red btn-sm"
                                 data-dismiss="fileinput">
                                  <i class="fa fa-times"></i>
                              </a>
                          </div>
                          <div class="fileinput-new thumbnail"
                               style="width: 150px !important; height: 135px; cursor:pointer;"
                               title="Upload Image"
                               onclick="javascript:$('#display_image').click();">
                              <img id="user_img"
                                   src="{{image}}"
                                   alt="">
                                
                          </div>
                          <div class="fileinput-preview fileinput-exists thumbnail"
                               style="width: 150px !important; height: 135px; cursor:pointer;"
                               title="Upload Image"
                               onclick="javascript:$('#display_image').click();"></div>

                      </div>
                </div>
            </div>
            <div class="col-md-offset-1 col-lg-4 col-md-4">
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="form-group">
                            <label class="brad-crum-2" style="font-size:15px; font-weight:700;">Images & Videos</label><label style="font-size:11px;margin-left: 5px;">(*Max. limit 20 MB)</label>
                        </div>
                    </div>
                </div>
                <div class="row">
	                 <div class="col-lg-12 col-md-12" style="font-size:15px; font-weight:300;">
	                     Memory Usage
	                 </div>
	                 <div class="col-lg-7" style="padding-top: 5px; padding-right: 0px;">
	                     <progress style="background:lightgray" id="progress_bar" class="progress progress-striped progress-success"  max="20"></progress>
	                 </div>
	                 <div class="col-lg-5 progress_count" style="font-size:15px; font-weight:300; padding-left: 0px;">
	                     0.0/20 MB
	                 </div>
	             </div>
                <div class="row">
                    <div class="form-group col-lg-12 col-md-12">
                        <div class="dropzone"
                             style=" min-height: 70px; border-color: #e4e5e7 !important; "
                             id="my-awesome-dropzone-3"><span class="txt_dropzone3" style="text-align: center; float: left;">Click or drag and drop to upload images and videos</span></div>
                        <input type="hidden"
                               class="form-control"
                               id="attachment"
                               name="attachments">
                        <input type="hidden"
                               class="form-control"
                               id="attachments"
                               name="attachment">
                    </div>
                </div>
                
                
                
            </div>
             </div>
         </div>
         </form>
     </div>
 </div>
 </div>
 </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="page-footer">
    <div class="page-footer-inner"> 2016 &copy; DigiSpace Software Private Limited
    </div>
    <div class="scroll-to-top">
        <i class="icon-arrow-up"></i>
    </div>
</div>
<div style="overflow-y:hidden;" id="affiliate-modal" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 325px;">
        <div class="modal-content">
            <div class="modal-header">
                <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 112px;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12">
                        <h4 class="text-center">Advert added successfully</h4>
                    </div>
                </div>

            </div>

            <div class="modal-footer">
                <div class="row">
                    <div class="col-lg-offset-5 col-lg-2">

                        <a href="/advert-management/?subscriber_id={{user_id}}" class="btn green"> OK</a>

                    </div>
                </div>
            </div>

        </div>

    </div>
</div>


<div style="overflow-y:hidden;" id="affiliate-modal2" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">

                <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 236px;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>
            <div class="modal-body">
                <div class="form-body">
                    <h4 class="text-center">Advert added successfully with Transaction ID <span
                            id="transaction_code2"></span></h4>
                </div>
                <div style="text-align:center !important;" class="modal-footer">
                    <input type="submit" value="OK"
                           class="btn btn-primary" onclick="redirect_to_retails()" id="btn-loading-demo">

                </div>
            </div>
        </div>

    </div>
</div>


<div style="overflow-y:hidden;" id="success-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">

                <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 236px;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>
            <div class="modal-body">

                <div class="form-body">
                    <h4 class="text-center">You have following active subscription.</h4>
                    <input type="hidden" id="subscription_id"></input>
                    <div class="row text-center">
                        <h4 class="text-center" style="display: inline;">Service Name : </h4>
                        <h4 class="text-center" id="show_service_name" style="display: inline;"></h4>

                    </div>
                    <div class="row text-center">
                        <h4 class="text-center" style="display: inline;">Duration : </h4>
                        <h4 class="text-center" id="subscription_duration" style="display: inline;"></h4>

                    </div>

                </div>
            </div>
            <div style="text-align:center !important;" class="modal-footer">
                <button type="button" id="save" class="btn green">Use Existing Subscription</button>
                <button type="button" id="continue" class="btn green">Add New Subscription</button>


            </div>

        </div>


    </div>

</div>





<div style="overflow-y:hidden;" id="error-modal1" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">

                <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 236px;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">

            </div>
            <div class="modal-body">
                <div class="form-body">
                    <h4 class="text-center"><span id="error-message1"></span></h4>
                </div>
                <div style="text-align:center !important;" class="modal-footer">
                    <input data-dismiss="modal" type="submit" value="OK"
                           class="btn btn-primary" id="btn-loading-demo">

                </div>
            </div>
        </div>

    </div>
</div>

<div style="overflow-y:hidden;" id="error-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 236px;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">
            </div>
            <div class="modal-body">
                <div class="form-body">
                    <h4 class="text-center"><span id="error-message"></span></h4>
                </div>
                <div style="text-align:center !important;" class="modal-footer">
                    <a href="/advert-management/?subscriber_id={{supplier_id}}"
                           class="btn btn-primary" id="btn-loading-demo">OK</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div style="overflow-y:hidden;" id="default-error" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <img style="width: 100px; height: 29px; margin-top: -11px; margin-left: 236px;"
                     src="/static/assets/layouts/layout2/img/City_Hoopla_Logo.png" alt="logo" class="logo-default">
            </div>
            <div class="modal-body">
                <div class="form-body">
                    <h4 class="text-center">Please uncheck the default city star checkbox ,there is already one default city star available.</h4>
                </div>
                <div style="text-align:center !important;" class="modal-footer">
                    <input data-dismiss="modal" type="submit" value="OK"
                           class="btn btn-primary" id="btn-loading-demo">
                </div>
            </div>
        </div>
    </div>
</div>


<!--[if lt IE 9]>
<script src="../assets/global/plugins/respond.min.js"></script>
<script src="../assets/global/plugins/excanvas.min.js"></script>
<![endif]-->
<!-- BEGIN CORE PLUGINS -->
        <script src="{% static 'assets/global/plugins/jquery.min.js' %}" type="text/javascript"></script>
 		  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
        <script src="{% static 'assets/global/plugins/bootstrap/js/bootstrap.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/js.cookie.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/jquery.blockui.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/uniform/jquery.uniform.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/select2/js/select2.full.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/jquery-validation/js/jquery.validate.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/jquery-validation/js/additional-methods.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/ckeditor/ckeditor.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-markdown/lib/markdown.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-markdown/js/bootstrap-markdown.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/select2/js/select2.full.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/scripts/app.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/pages/scripts/components-select2.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/pages/scripts/form-validation.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/layouts/layout2/scripts/layout.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/layouts/layout2/scripts/demo.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/layouts/global/scripts/quick-sidebar.min.js' %}" type="text/javascript"></script>
        <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
        <script src="{% static 'assets/custom/js/jquery.ui.addresspicker.js' %}"></script>
        <script src="{% static 'assets/pages/scripts/form-wizard.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/bootstrap-wizard/jquery.bootstrap.wizard.min.js' %}" type="text/javascript"></script>
        <script src="{% static 'vendor/bootstrap-fileinput/jasny-bootstrap.js' %}"></script>
   	  <script src="http://kendo.cdn.telerik.com/2016.2.504/js/kendo.all.min.js"></script>

        <script src="{% static 'assets/pages/scripts/dropzone1.js' %}"></script>
                 <link href="{% static 'assets/pages/css/dropzone.css' %}" rel="stylesheet" type="text/css" />
        <script src="{% static 'assets/bootstrap-tagsinput.js' %}" type="text/javascript"></script>
        <script src="{% static 'assets/global/plugins/ion.rangeslider/js/ion.rangeSlider.min.js' %}" ></script>
<script type="text/javascript">

/*$(document).ready(function () {
	var flag = $('#img').val();   
	//alert(flag);     
      if (flag != '' ) {
  			//alert('in flag');
          Dropzone.autoDiscover = false;
          uploaded_images();
      }
  });	      
*/
$( document ).ready(function() {
	
		
			if ($("#dstar").prop('checked') == true) {
				$('#activate_date').val('');
				$('#deactivate_date').val('');
				$('.inputDisabled').attr("disabled", "disabled");
			}
			else {
				$('.inputDisabled').removeAttr("disabled");
			}
		
	
		var flag = $('#img').val();   


		c= $('#c_id').val();
        $.ajax({
            type : "GET",
            url : '/city-star/get_star_dates/',
            data : {'city_id':c},
            success: function (response) {
                if(response.success=='true'){
                    $( "#activate_date" ).datepicker( "destroy" );                
                    ranges5 = response.date_list;
                    //alert(range5);
                    ranges = ranges5;
                    $( "#activate_date" ).datepicker({
                        numberOfMonths: 1,
                        beforeShowDay: function(date) {
                            for(var i=0; i<ranges5.length; i++) {
                            if(date >= new Date(ranges5[i].start_date) && date <= new Date(ranges5[i].end_date)) 
										//$( "#activate_date" ).datepicker( "destroy" );                            	
                            	return [false, ''];
                            }
                            return [true, ''];
                        },
                        minDate: 0,
                        dateFormat: 'dd/mm/yy'
                    });
                }
            },
            beforeSend: function () {
                $("#processing").css('display','block');
            },
            complete: function () {
                $("#processing").css('display','none');
            },
            error : function(response){
                    alert("_Error");
            }
        });
    });

  


	 $( ".date-picker" ).datepicker({ 
 				minDate: 0,
 				dateFormat: 'dd/mm/yy'
  	 });

 /*	 $( ".date-picker1" ).datepicker({ 
			minDate: 0 + 7,
			dateFormat: 'dd/mm/yy'
  	 });
		*/

/*function premium_startdate(id){
		  //	alert('in startdate');
        var from = $('#activate_date').val().split("/");
        var date = new Date(from[2], from[1] - 1, from[0]);
        days = 7;
        if(!isNaN(date.getTime())){
            date.setDate(date.getDate() + days);
            var yyyy = date.getFullYear().toString();
            var mm = (date.getMonth()+1).toString(); // getMonth() is zero-based
            var dd  = date.getDate().toString();
            newdate = (dd[1]?dd:"0"+dd[0]) + "/" + (mm[1]?mm:"0"+mm[0]) + "/"+ yyyy  ; // padding
            new_date = (mm[1]?mm:"0"+mm[0]) + "/" + (dd[1]?dd:"0"+dd[0]) + "/"+ yyyy  ; // padding
            $("#deactivate_date").val(newdate);

         
        } else {
            alert("Invalid Date");
        }
    }*/

function premium_startdate(id){
		  //	alert('in startdate');
        var from = $('#activate_date').val().split("/");
        var date = new Date(from[2], from[1] - 1, from[0]);
        var startDate = new Date(from[2], from[1] - 1, from[0]);
        days = 6;
        if(!isNaN(date.getTime())){
            date.setDate(date.getDate() + days);
            var yyyy = date.getFullYear().toString();
            var mm = (date.getMonth()+1).toString(); // getMonth() is zero-based
            var dd  = date.getDate().toString();
            newdate = (dd[1]?dd:"0"+dd[0]) + "/" + (mm[1]?mm:"0"+mm[0]) + "/"+ yyyy  ; // padding
            new_date = (mm[1]?mm:"0"+mm[0]) + "/" + (dd[1]?dd:"0"+dd[0]) + "/"+ yyyy  ; // padding
            $("#deactivate_date").val(newdate);

				var date_flag = '0';
            date_array = getDates(startDate, new Date(new_date));
                $.each(date_array, function (index, items) {
                    $.each(ranges, function (index, item) {
                        var from = new Date(item.start_date);
                        var to   = new Date(item.end_date);
                        var check = items;
                        if(check > from && check < to){
                            date_flag = '1';
                        }
                    });
                });

            if(date_flag == '1'){
                $('.error51').css("display", "block");
                $('.error51').text("Date range already reserved for another City Star. Please select another date.");
					 $('#deactivate_date').val('');	                
                return false;
            }
        } else {
            alert("Invalid Date");
        }
    }
    
function handleClick(cb) {
		//alert('hi');
	if ($("#dstar").prop('checked') == true) {
		$('#activate_date').val('');
		$('#deactivate_date').val('');
		$('.inputDisabled').attr("disabled", "disabled");
	}
	else {
		$("#captureImage").removeAttr('checked');
		$('.inputDisabled').removeAttr("disabled");
	}
}


function getDates(startDate, stopDate) {
        var dateArray = new Array();
        var date = startDate;
        var currentDate = startDate;
        while (currentDate <= stopDate) {
            currentDate = date.setDate(date.getDate() + 1);
            dateArray.push( new Date (currentDate) );
        }
        return dateArray;
    }


		function myFunction(val) {
   var len = val.value.length;

   $('#length_cal').html('');
   $('#length_cal').append(len);
   }

	function myFunction1(val) {
   var len = val.value.length;

   $('#length_cal1').html('');
   $('#length_cal1').append(len);
   }

	
			 //Dropzone.autoDiscover = false;

        var ids=$('#id1').val();
//Dropzone.autoDiscover = false;
  //---------------------------------------------------------------
  var uploaded_image_list = '';
        var uploaded_file_mb = 0;
        var uploaded_file1_mb = 0;
        var uploaded_file2_mb = 0;
  	Dropzone.options.myAwesomeDropzone3 = {
            //autoProcessQueue: true,
            uploadMultiple: true,
            paramName: "file",
            maxFiles: 10,
            //maxFilesize: 2,
            method: 'post',
            parallelUploads: 1,
            url: '/city-star/upload-star-image/',
            dictDefaultMessage: "Drop or Browse up to 20 MB (1MB or higher in size)",
            addRemoveLinks: true,
            acceptedFiles: ".jpeg,.jpg,.png,.gif,.JPEG,.JPG,.PNG,.GIF,.avi,.webm,.flv,.mkv,.wmv,.mp4,.mp2,.3gp,.mpeg",
            dictInvalidFileType: 'This file type is not supported.',
            dictMaxFilesExceeded: "You can not upload more than 20 MB.",

            init: function () {
                var myDropzone = this;
                var reordered_array = new Array();
                var temp_image_files = new Array();
                var temp_image_file = new Array();
                this.on("sending", function () {
                    return false;
                });
                image_id_list = new Array();
                image_size_list = new Array();
						$.ajax({
                    type : "GET",
                    url : '/city-star/uploaded-images/',
                    data : {'star_id':{{id}}},
                    success: function (response) {
                        uploaded_image_list = response.image_list;
                    },
                    beforeSend: function () {
                        $("#processing").css('display','block');
                    },
                    complete: function () {
                        $("#processing").css('display','none');
                        $.each(uploaded_image_list, function (index, item) {
                            var mockFile = {
                                name: item.image_name,
                                size: item.image_size,
                                type: 'all/*',
                                status: Dropzone.ADDED,
                                url: item.image_url,
                                image_id : item.image_id
                            };
                            image_id_list.push(item.image_id);
                            image_size_list.push(item.image_size);
                            uploaded_file1_mb = uploaded_file1_mb + parseInt(item.image_size)/(1024*1024);

                            uploaded_file_mb = parseFloat(uploaded_file1_mb);
                            console.log(uploaded_file_mb);
                            $("#progress_bar").val(parseFloat(uploaded_file_mb));
                            progrss_count = parseFloat(uploaded_file_mb).toFixed(2) + "/20 MB"
                            $(".progress_count").text(progrss_count);

                            myDropzone.emit("addedfile", mockFile);
                            myDropzone.emit("thumbnail", mockFile, item.image_url);
                            reordered_array.push(item.image_id);
                            temp_image_file.push(mockFile);
                            myDropzone.files.push(mockFile);
                            $('#attachments').val(reordered_array);
                            
                            // console.log(reordered_array);
                        });
                        var temp_image_files = new Array();
                        temp_image_files=temp_image_file;
                        old_upload_size = uploaded_file1_mb;
                        console.log(old_upload_size)
                    },
                    error : function(response){
                        alert("_Error");
                    }
                });
                



             /*   this.on("totaluploadprogress", function (file,progress,bytesSent) {
                    var alreadyUploadedTotalSize = getTotalPreviousUploadedFilesSize(bytesSent);
                });
				 */
		         this.on("totaluploadprogress", function (file,progress,bytesSent) {

                    uploaded_file1_mb = parseInt(bytesSent)/(1024*1024);
                    uploaded_file_mb = old_upload_size + parseFloat(uploaded_file1_mb) + parseFloat(uploaded_file2_mb);
                    $("#progress_bar").val(parseFloat(uploaded_file_mb));
                    if(uploaded_file_mb > 20){
                        $("#error-modal1").modal('show');
                        $("#error-message1").text("Uploaded file size exceeds limit of 20 MB");
                    }
                    progrss_count = parseFloat(uploaded_file_mb).toFixed(2) + "/20 MB"
                    $(".progress_count").text(progrss_count);
                    var alreadyUploadedTotalSize = getTotalPreviousUploadedFilesSize(bytesSent);
                });


                this.on("addedfile", function(file, response){
                    $(".txt_dropzone3").text("");
                    if (this.files.length) {
                        var i, len, pre;
                        for (i = 0, len = this.files.length; i < len - 1; i++){
                            if (this.files[i].name == file.name && this.files[i].size == file.size && this.files[i].lastModifiedDate.toString() == file.lastModifiedDate.toString()) {
                                this.removeFile(file);
                            }
                        }
                    }
                    temp_image_files.push(file);
                });

                this.on("success", function (files, response) {
                	  //alert(response.attachid);
                    $('#attachment').val($('#attachment').val()+","+response.attachid);
                    $('#attachment').append($('#attachment').val()+","+response.attachid);
                    $('a .dz-remove').attr('href','/city-star/remove-star-image/?image_id='+response.attachid);
                    reordered_array.push(response.attachid);
                    $('#attachment').val(reordered_array);                    
                    $('#attachments').val(reordered_array);
                });

                this.on("removedfile", function(file){
                    deleting_image_id = reordered_array[temp_image_files.indexOf(file)];
                    deleting_image_size = image_size_list[image_id_list.indexOf(deleting_image_id)];
                    if(deleting_image_size != undefined){
                        deleting_image_size = parseFloat(deleting_image_size)/(1024*1024); 
                        old_upload_size = old_upload_size - deleting_image_size
                        console.log(deleting_image_size,old_upload_size)
                        uploaded_file_mb = uploaded_file_mb - deleting_image_size
                        $("#progress_bar").val(parseFloat(uploaded_file_mb));
                        progrss_count = parseFloat(uploaded_file_mb).toFixed(2) + "/20 MB"
                        $(".progress_count").text(progrss_count);   
                    }
                    $.ajax({
                        url: "/city-star/remove-star-image/?image_id="+deleting_image_id,
                        success: function(result){
                            arr = $('#attachment').val();
                            arr = arr.split(',');
                            console.log('Before Id Remove : '+ arr);
                            arr = jQuery.grep(arr, function(value) {
                                return value != deleting_image_id;
                            });
                            console.log('After Id Remove : '+ arr);
                            $('#attachment').val(arr);
                        }
                    });
                    arr =$('#attachments').val();
                    arr = arr.split(',');
                    arr = jQuery.grep(arr, function(value) {
                        return value != deleting_image_id;
                    });

                    $('#attachments').val(arr);
                    var index=myDropzone.files.length;
                    var temp_image_id = reordered_array[temp_image_files.indexOf(file)];

                    reordered_array = jQuery.grep(reordered_array, function(value) {
                        return value != temp_image_id;
                    });

                    temp_image_files = jQuery.grep(temp_image_files, function(value) {
                        return value != file;
                    });
                    $('#attachments').val(reordered_array);
                    if (myDropzone.files.length == 0){
                        $(".txt_dropzone3").text("Click or drag and drop to upload images and videos");
                    }
                });

                this.on("maxfilesexceeded", function (file) {
                    this.removeFiles(file);
                    $('#lbl_upl').css ("color", "red");
                });

                function getTotalPreviousUploadedFilesSize(bytesSent){
                    var totalSize = 0;
                    var image_space =bytesSent;
                    $("#image_space").val(image_space);
                }
            }
        }
        

	  
      
      
		
     
  	
  	
  	
            /*   Dropzone.autoDiscover = false;
  					uploaded_images();

        function uploaded_images(){
            $.ajax({
                url: "/city-star/uploaded-images/?star_id="+{{id}},
                success: function(response){
                    console.log(response);
                    $.each(response.image_list, function (index, item) {
                        $(".txt_dropzone3").text("");
                        var mockFile = { name: item.image_name, size: 12345 ,image_id:item.image_id};
                        var myAwesomeDropzone3 = new Dropzone("#my-awesome-dropzone-3");
                        myAwesomeDropzone3.options.addedfile.call(myAwesomeDropzone3, mockFile);
                        myAwesomeDropzone3.options.thumbnail.call(myAwesomeDropzone3, mockFile, item.image_path);
                    });
                }
            });
        }*/
    
  	
  	
  	
  //=-------------------------------------------------------------- 
		          		

    $("#short_discription").keyup(function(){
        text_length = $("#short_discription").val().trim().length;
        text_count = text_length + "/5000 Characters";
        $("#short_discription").parent().children('.dis_count').text(text_count);
    });
   
   /* $('html').bind('keypress', function(e)
    {
       if(e.keyCode == 13)
       {
          return false;
       }
    });*/
//& checkImage('#display_image')
	function validateData(){
			//alert('in validation');
        if(checkName("#name") & checksummary('#summary') & checkEmail('#email') & checkPhone('#phone')&
        checkActdate('#activate_date') & checkDactDate('#deactivate_date') 
        
        )
        {
            return true;
        }
                
        return false;
    }

    $("#save_advert").click(function(){
		 if(validateData()){
	    	 var formData= new FormData();
			 var check_image = 0;

          var display_image = document.getElementById("display_image");          
          var user_img = document.getElementById("user_img");
          
			 progress_count = $(".progress_count").text();
            progress_count = progress_count.split("/");
            if(parseFloat(progress_count[0].trim()) > 20){
                $("#error-modal1").modal('show');
                $("#error-message1").text("Uploaded file size exceeds limit of 20 MB");
                return false;
            }	 
            
           var abc;
          
				if($("#dstar").prop('checked') == true){
					$('.error51').css("display", "none");
				    var abc = $("#dstar").val();			   
				}
				else {
					abc = ''
				}           
          
				if ($('#c_sts').val()=='default' && $("#dstar").prop('checked') == false) {
            	status_v = '';
            }     
            else {
            	status_v = $('#c_sts').val();
            }     
          
          display_image = display_image.files[0];
 			 if(user_img != null & display_image != null){
            	check_image = 1;
            	formData.append("display_image", display_image);                      
            }
            else if(user_img != null & display_image == undefined) {
                formData.append("display_image1",$('#image_file').val());
            }	
            if (user_img == null & display_image == undefined) {
                display_image = "";
                return false;
            }
           
			formData.append("id",$('#id1').val());
			formData.append("display_image",$('#display_image').val());
			formData.append("city",$('#cid').val());
			formData.append("title",$('#title').val());
			formData.append("name",$('#name').val());    
			formData.append("summary",$('#summary').val());    
			formData.append("abs",$('#abs').val());    
			formData.append("activate_date",$('#activate_date').val());    
			formData.append("deactivate_date",$('#deactivate_date').val());
			formData.append("prof",$('#prof').val());
			formData.append("education",$('#education').val());
			formData.append("age",$('#age').val());
			formData.append("exp",$('#exp').val());
			formData.append("awards",$('#awards').val());
			formData.append("address1",$('#address1').val());
			formData.append("address2",$('#address2').val());
			formData.append("phone",$('#phone').val());
			formData.append("email",$('#email').val());
			formData.append("status",status_v);			
			formData.append("shares",$('#shares').val());
			formData.append("dstatus",abc);
			
			
			//alert($('#attachment').val());
			formData.append("attachments",$('#attachment').val());
 
            $.ajax({
                type	: "POST",
                url : '/city-star/update_citystar/',
                data : formData,
                cache: false,
                processData: false,
                contentType: false,
                success: function (response) {
                    //alert(response.success);
                    //location.href="/city-star/citystar_home/";
                    if(response.success=='default-false'){
		        			$("#default-error").modal('show');
		        		  }
		        		  if(response.success=='true'){
		        			location.href="/city-star/starhome/?city_id="+response.city_place_obj;
		        		  }
                    //location.href="/city-star/starhome/?city_id="+response.city_place_obj;
                },
                beforeSend: function () {
                    $("#processing").css('display','block');
                },
                complete: function () {
                $("#processing").css('display','none');
                },
                error : function(response){
                alert("_Error");
                }
            });
        
		}
		else {
			return false;
		}
  });

    function validateIntKeyPress(el, evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        if (charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        return true;
    }

	 function checktitle(title){
	 	//alert('in title');
        if($(title).val()!='' && $(title).val()!=null){
        //alert('in title if');
            $(title).parent().children('.error').css("display", "none");           
                return true;           
        }else{
        //alert('in title else');
            $(title).parent().children('.error').css("display", "block");
            $(title).parent().children('.error').text("Please select Title");
            return false;
        }
        return false;
    }

	 function checksummary(summary){
        if($(summary).val()!='' && $(summary).val()!=null){
            $(summary).parent().children('.error').css("display", "none");           
                return true;           
        }else{
            $(summary).parent().children('.error').css("display", "block");
            $(summary).parent().children('.error').text("Please Enter Summary");
            return false;
        }
        return false;
    }	

	   function checkActdate(activate_date){
	   if($("#dstar").prop('checked') == true){
	   $('.error12').css("display", "none");
			    return true;		   
			}
        activate_date = $(activate_date).val()
        if(activate_date != ""){
            $('.error12').css("display", "none");  
                return true;           
        }
       else{
            $('.error12').css("display", "block");
            $('.error12').text("Please Select Activate Date");
            return false;
        }
        return true;
    }
    
    function checkDactDate(deactivate_date){
	    if($("#dstar").prop('checked') == true){
	    $('.error11').css("display", "none");
			    return true;		   
			}
        deactivate_date = $(deactivate_date).val();
        activate_date = $(activate_date).val();
        if(activate_date != "" && deactivate_date == ""){
            $('.error11').css("display", "none");
            return false;
        }
        if (deactivate_date == "") {
        		//$('.error11').css("display", "block");
            //$('.error11').text("Please Select Deactivate Date");
            return false;
        }
        if(deactivate_date != ""){
            $('.error11').css("display", "none");  
                return true;           
        }
        else{
            $('.error11').css("display", "block");
            //$('.error11').text("Please Select Deactivate Date");
            return false;
        }        
    }
	
	function checkImage(display_image){
        
        display_image = $(display_image).val()
        if(display_image != ""){
            $('.error21').css("display", "none");  
                return true;           
        }
        else{
            $('.error21').css("display", "block");
            $('.error21').text("Please Upload Image");
            return false;
        }
        
        return true;
    }	



function checkPhone(phone){
        //var phoneNumberPattern = /^[789]\d{9}$/;
        var phoneNumberPattern = /(7|8|9)\d{9}/;
        contact_number = $(phone).val()
        if (contact_number == ""){
            return true;
        }
        else if(phoneNumberPattern.test(contact_number)){
        		 $('.error15').css("display", "none");
            return true;
        }else{
           $('.error15').css("display", "block");
	        $('.error15').text("Please enter valid Contact Number");
           return false;
        }
    }

	  /*  function checkActdate(activate_date){
        
        activate_date = $(activate_date).val()
        if (activate_date == ""){
            $(activate_date).parent().children('.error').css("display", "block");
            $(activate_date).parent().children('.error').text("Please Select Activate Date");
            return false;
        }
        
        return true;
    }
   
    function checkDactDate(deactivate_date){
        
        deactivate_date = $(deactivate_date).val()
        if (deactivate_date == ""){
            ('.error').css("display", "block");
            ('.error').text("Please Select Deactivate Date");
            return false;
        }
        
        return true;
    }
 */
    function checkName(contact_name){
        //var namePattern = /^[a-zA-Z\s]+$/;
        first_name = $(contact_name).val()
        if (first_name == ""){
            $(contact_name).parent().children('.error').css("display", "block");
            $(contact_name).parent().children('.error').text("Please enter Name");
            return false;
        }
        /*else if(namePattern.test(first_name)){
            $(contact_name).parent().children('.error').css("display", "none");
            return true;
        }else{
            $(contact_name).parent().children('.error').css("display", "block");
            $(contact_name).parent().children('.error').text("Please enter valid Name");
            return false;
        }
        }*/else{
            return true;
        }
    }

    

	function checkEmail(email_primary){
        Email = $(email).val()
        var namePattern = /[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/;
        if(namePattern.test(Email)){
            return true;
        }else if(Email==""){           
            return true;
        }
        else {
            $('.error14').css("display", "block");
            $('.error14').text("Please Enter Valid Email");
            return false;
        }
    }
    
        function validateFloatKeyPresss(el, evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;
        var number = el.value.split('+');
        var number1 = el.value.split('-');
        if (charCode != 45 && charCode != 43 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }
        //just one dot
        if (number.length > 1 && charCode == 43) {
            return false;
        }
        if (number1.length > 1 && charCode == 45) {
            return false;
        }
        return true;
    }

</script>
</body>
</html>
